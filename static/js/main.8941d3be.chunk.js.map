{"version":3,"sources":["components/Episode.js","App.js","registerServiceWorker.js","index.js"],"names":["_","require","Module","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","displayName","name","state","episodes","external","search","loading","value","test","label","key","backgroundPath","handleChange","bind","assertThisInitialized","handleSubmit","renderSearch","dothis","inherits","createClass","_this2","fetch","concat","then","response","json","data","arr","newArr","i","results","push","id","setState","flatten","console","log","event","target","_this3","preventDefault","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","tvID","_response","_json","imdbID","wrap","_context","prev","next","sent","imdb_id","stop","apply","arguments","request","_this4","contents","react_default","createElement","testClass","poster","renderPoster","text","renderText","renderPageTitle","className","onSubmit","Autocomplete_default","items","shouldItemRender","item","toLowerCase","indexOf","getItemValue","renderItem","highlighted","style","backgroundColor","inputProps","class","placeholder","onChange","onSelect","wrapperStyle","type","Fragment","lib_default","lockOrientation","lib","orientation","alwaysRender","marginBottom","marginTop","role","bodyText","tv_results","overview","originCountry","origin_country","originalLanguage","original_language","voteAverage","vote_average","firstAirDate","first_air_date","pageTitle","original_name","posterPath","poster_path","backdrop_path","src","alt","border","hasOwnProperty","seasonNumber","parseInt","episodeNumber","averageRating","parseFloat","sortBy","graphGroups","groupBy","result","keys","map","table","flattenArr","sub","ep","flattenEp","primaryTitle","largest","length","size","dynLabels","dataSetsTest","fill","Math","random","toString","slice","labels","datasets","optionsBar","responsive","maintainAspectRatio","scales","xAxes","display","ticks","suggestedMin","beginAtZero","yAxes","legend","position","fullWidth","tooltips","callbacks","tooltipItem","dataset","datasetIndex","index","es","options","Component","App","Episode_Module","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","rootElement","document","getElementById","ReactDOM","render","BrowserRouter","App_App","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"6QAKIA,EAAIC,EAAQ,KAGHC,EAAb,SAAAC,GAGE,SAAAD,EAAYE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IACjBG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KAHRQ,YAAcV,EAAOW,KAInBR,EAAKS,MAAQ,CACXC,SAAU,GACVC,SAAU,GACVC,OAAQ,GACRC,SAAS,EACTC,MAAO,GACPC,KAAM,CAAC,CAAEC,MAAO,eAChBC,IAAK,GACLC,eAAgB,IAElBlB,EAAKmB,aAAenB,EAAKmB,aAAaC,KAAlBnB,OAAAoB,EAAA,EAAApB,QAAAoB,EAAA,EAAApB,CAAAD,KACpBA,EAAKsB,aAAetB,EAAKsB,aAAaF,KAAlBnB,OAAAoB,EAAA,EAAApB,QAAAoB,EAAA,EAAApB,CAAAD,KACpBA,EAAKuB,aAAevB,EAAKuB,aAAaH,KAAlBnB,OAAAoB,EAAA,EAAApB,QAAAoB,EAAA,EAAApB,CAAAD,KACpBA,EAAKwB,OAASxB,EAAKwB,OAAOJ,KAAZnB,OAAAoB,EAAA,EAAApB,QAAAoB,EAAA,EAAApB,CAAAD,KAfGA,EAHrB,OAAAC,OAAAwB,EAAA,EAAAxB,CAAAJ,EAAAC,GAAAG,OAAAyB,EAAA,EAAAzB,CAAAJ,EAAA,EAAAoB,IAAA,eAAAH,MAAA,WAuDiB,IAAAa,EAAAxB,KACbyB,MAAK,wGAAAC,OAED1B,KAAKM,MAAMK,MAFV,YAKFgB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACJ,IAAIC,EAAMP,EAAKlB,MAAMG,OACjBuB,EAAS,GACb,IAAK,IAAIC,KAAKF,EAAIG,QAChBF,EAAOG,KAAK,CAAEtB,MAAOkB,EAAIG,QAAQD,GAAG5B,KAAM+B,GAAIL,EAAIG,QAAQD,GAAGG,KAE/DZ,EAAKa,SAAS,CAAEzB,KAAMpB,EAAE8C,QAAQN,KAChCR,EAAKa,SAAS,CAAE5B,OAAQqB,IACxBS,QAAQC,IAAIhB,EAAKlB,MAAMG,OAAQe,EAAKlB,MAAMM,UAtElD,CAAAE,IAAA,eAAAH,MAAA,SAuGe8B,GACXzC,KAAKqC,SAAS,CAAE1B,MAAO8B,EAAMC,OAAO/B,MAAOD,SAAS,MAxGxD,CAAAI,IAAA,SAAAH,MAAA,SA2GS8B,GACLzC,KAAKqC,SAAS,CAAE1B,MAAO8B,EAAMC,OAAO/B,MAAOD,SAAS,IACpDV,KAAKoB,eACLmB,QAAQC,IAAIxC,KAAKM,MAAMQ,OA9G3B,CAAAA,IAAA,eAAAH,MAAA,SAiHe8B,GAAO,IAAAE,EAAA3C,KAClByC,EAAMG,iBAEO,eAAAC,EAAA/C,OAAAgD,EAAA,EAAAhD,CAAAiD,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAtB,EAAAC,EAAAsB,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACSjC,MAAK,wGAAAC,OAExBiB,EAAKrC,MAAMK,MAFa,YADd,cACRiB,EADQ4B,EAAAG,KAAAH,EAAAE,KAAA,EAMK9B,EAASC,OANd,UAMRA,EANQ2B,EAAAG,KAOdpB,QAAQC,IAAIX,EAAKK,QAAQ,GAAGE,MACtBe,EAAOtB,EAAKK,QAAQ,GAAGE,IARf,CAAAoB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAUWjC,MAAK,mCAAAC,OACSyB,EADT,0EAVhB,eAUNvB,EAVM4B,EAAAG,KAAAH,EAAAE,KAAA,GAaO9B,EAASC,OAbhB,QAaNA,EAbM2B,EAAAG,KAcZpB,QAAQC,IAAIX,EAAK+B,SACXN,EAASzB,EAAK+B,QACpBrB,QAAQC,IAAIc,GACZ7B,MAAK,oGAAAC,OACiG4B,EADjG,QAGF3B,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACJa,EAAKN,SAAS,CAAE9B,SAAUuB,EAAMpB,SAAS,IACzC6B,QAAQC,IAAIV,KAEbH,KACCF,MAAK,qCAAAC,OACkC4B,EADlC,aAAA5B,OAhJL,mCAgJK,4CAGFC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GACJa,EAAKN,SAAS,CAAE7B,SAAUsB,IAC1BS,QAAQC,IAAIV,MAhCR,yBAAA0B,EAAAK,SAAAX,EAAAlD,SAAH,yBAAA6C,EAAAiB,MAAA9D,KAAA+D,YAAA,EAsCbC,KA1JJ,CAAAlD,IAAA,SAAAH,MAAA,WA0SW,IAAAsD,EAAAjE,KACHkE,EAAWlE,KAAKM,MAAMI,QACxByD,EAAAnB,EAAAoB,cAAA,SACED,EAAAnB,EAAAoB,cAAA,YAGF1E,EAAO2E,UAAUrE,KAAKM,MAAMC,UAG1B+D,EAAStE,KAAKM,MAAMI,QACtByD,EAAAnB,EAAAoB,cAAA,SACED,EAAAnB,EAAAoB,cAAA,YAGF1E,EAAO6E,aAAavE,KAAKM,MAAME,UAG7BgE,EAAOxE,KAAKM,MAAMI,QACpByD,EAAAnB,EAAAoB,cAAA,SACED,EAAAnB,EAAAoB,cAAA,YAGF1E,EAAO+E,WAAWzE,KAAKM,MAAME,UAGnBR,KAAKM,MAAMI,QACrByD,EAAAnB,EAAAoB,cAAA,SACED,EAAAnB,EAAAoB,cAAA,YAGF1E,EAAOgF,gBAAgB1E,KAAKM,MAAME,UAGpC,OACE2D,EAAAnB,EAAAoB,cAAA,WACED,EAAAnB,EAAAoB,cAAA,WACED,EAAAnB,EAAAoB,cAAA,MAAIO,UAAU,4BAAd,WACAR,EAAAnB,EAAAoB,cAAA,QAAMQ,SAAU5E,KAAKmB,cACnBgD,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,uBACbR,EAAAnB,EAAAoB,cAACS,EAAA7B,EAAD,CACE8B,MAAO9E,KAAKM,MAAMM,KAClBmE,iBAAkB,SAACC,EAAMrE,GAAP,OAChBqE,EAAKnE,MAAMoE,cAAcC,QAAQvE,EAAMsE,gBAAkB,GAE3DE,aAAc,SAAAH,GAAI,OAAIA,EAAKnE,OAC3BuE,WAAY,SAACJ,EAAMK,GAAP,OACVlB,EAAAnB,EAAAoB,cAAA,OACEtD,IAAKkE,EAAK5C,GACVkD,MAAO,CACLC,gBAAiBF,EAAc,OAAS,gBAGzCL,EAAKnE,QAGV2E,WAAY,CACVC,MAAO,eACPC,YAAa,cAEf/E,MAAOX,KAAKM,MAAMK,MAClBgF,SAAU3F,KAAKqB,OACfuE,SAAU,SAAAjF,GAAK,OAAIsD,EAAK5B,SAAS,CAAE1B,WACnCkF,aAAc,MAGlB1B,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,UACbR,EAAAnB,EAAAoB,cAAA,SACE0B,KAAK,SACLnF,MAAM,SACNgE,UAAU,qCAKjB3E,KAAKM,MAAMI,QACVyD,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,UACbR,EAAAnB,EAAAoB,cAAA,MAAIO,UAAU,YAAd,0DAMJR,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,oBAAoBL,GACnCH,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,eAAeH,IAEhCL,EAAAnB,EAAAoB,cAAA,MAAIO,UAAU,YACZR,EAAAnB,EAAAoB,cAAA,2BAEFD,EAAAnB,EAAAoB,cAAC4B,EAAAhD,EAAD,CAAmBiD,gBAAiB,aAElC9B,EAAAnB,EAAAoB,cAAC8B,EAAA,YAAD,CAAaC,YAAY,YAAYC,cAAc,GACjDjC,EAAAnB,EAAAoB,cAAA,OACEO,UAAU,MACVW,MAAO,CAAEe,aAAc,OAAQC,UAAW,SAEzCpC,IAILC,EAAAnB,EAAAoB,cAAC8B,EAAA,YAAD,CAAaC,YAAY,WAAWC,cAAc,GAChDjC,EAAAnB,EAAAoB,cAAA,MAAIO,UAAU,YAAd,kDACkD,IAChDR,EAAAnB,EAAAoB,cAAA,QAAMmC,KAAK,OAAX,yBApZpB,EAAAzF,IAAA,aAAAH,MAAA,SAqBoBH,GAEd,IAAIgG,EAAWhG,EAASiG,WAAW,GAAGC,SAClCC,EAAgBnG,EAASiG,WAAW,GAAGG,eAAe,GACtDC,EAAmBrG,EAASiG,WAAW,GAAGK,kBAC1CC,EAAcvG,EAASiG,WAAW,GAAGO,aACrCC,EAAezG,EAASiG,WAAW,GAAGS,eAC1C,OACE/C,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAA,KAAGO,UAAU,iBACXR,EAAAnB,EAAAoB,cAAA,uBACC6C,GAEH9C,EAAAnB,EAAAoB,cAAA,KAAGO,UAAU,iBACXR,EAAAnB,EAAAoB,cAAA,qBACCuC,GAEHxC,EAAAnB,EAAAoB,cAAA,KAAGO,UAAU,iBACXR,EAAAnB,EAAAoB,cAAA,uBACCyC,GAEH1C,EAAAnB,EAAAoB,cAAA,KAAGO,UAAU,iBACXR,EAAAnB,EAAAoB,cAAA,4BACC2C,GAEH5C,EAAAnB,EAAAoB,cAAA,KAAGO,UAAU,iBACXR,EAAAnB,EAAAoB,cAAA,sBACCoC,MAhDb,CAAA1F,IAAA,kBAAAH,MAAA,SA0EyBH,GAEnB,IAAI2G,EAAY3G,EAASiG,WAAW,GAAGW,cAEvC,OACEjD,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAA,MAAIO,UAAU,iBAAiBwC,MAhFzC,CAAArG,IAAA,eAAAH,MAAA,SAsFsBH,GAClB,IAAI6G,EAAa7G,EAASiG,WAAW,GAAGa,YAErB9G,EAASiG,WAAW,GAAGc,cAG1C,OAFAhF,QAAQC,IAAI6E,GAGVlD,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAA,OACEoD,IAAG,kCAAA9F,OAAoC2F,GACvCI,IAAI,MACJnC,MAAO,CAAEoC,OAAQ,0BAjG3B,CAAA5G,IAAA,YAAAH,MAAA,SA6JmBJ,GACf,IAAIwB,EAAM,GAEV,IAAK,IAAIjB,KAAOP,EACVA,EAASoH,eAAe7G,IAC1BiB,EAAII,KAAK5B,EAASO,IAGtB,IAAK,IAAImB,KAAKF,EACZA,EAAIE,GAAG2F,aAAeC,SAAS9F,EAAIE,GAAG2F,cACtC7F,EAAIE,GAAG6F,cAAgBD,SAAS9F,EAAIE,GAAG6F,eACvC/F,EAAIE,GAAG8F,cAAgBC,WAAWjG,EAAIE,GAAG8F,eACzCxF,QAAQC,IAAIT,EAAIE,IAElBM,QAAQC,IAAIhD,EAAEyI,OAAOlG,EAAK,CAAC,eAAgB,mBAE3C,IAAImG,EAAc1I,EAAE2I,QAClB3I,EAAEyI,OAAOlG,EAAK,CAAC,eAAgB,kBAC/B,gBAIEqG,EAAStI,OAAOuI,KAAKH,GAAaI,IAAI,SAASxH,GACjD,MAAO,CAACoH,EAAYpH,MAIlBwB,EAAU9C,EAAE8C,QAAQ8F,GACxB7F,QAAQgG,MAAMjG,GACdC,QAAQC,IAAI,WAEZ,IAAIgG,EAAalG,EAAQgG,IAAI,SAASG,GACpC,OAAOA,EAAIH,IAAI,SAAAI,GAAE,OAAIA,EAAGX,kBAGtBY,EAAYrG,EAAQgG,IAAI,SAASG,GACnC,OAAOA,EAAIH,IAAI,SAAAI,GAAE,OAAIA,EAAGE,iBAE1BrG,QAAQgG,MAAMI,GACdpG,QAAQC,IAAI,aAEZ,IAAIqG,EAAU,EAEd,IAAS5G,EAAI,EAAGA,EAAIK,EAAQwG,OAAQ7G,IAC9BzC,EAAEuJ,KAAKzG,EAAQL,IAAM4G,IACvBA,EAAUrJ,EAAEuJ,KAAKzG,EAAQL,KAK7B,IAAI+G,EAAY,GAChB,IAAS/G,EAAI,EAAGA,GAAK4G,EAAS5G,IAC5B+G,EAAU7G,KAAV,WAAAT,OAA0BO,IAI5B,IAAIgH,EAAe,GACnB,IAAShH,EAAI,EAAGA,EAAIuG,EAAWM,OAAQ7G,IACrCgH,EAAa9G,KAAK,CAChBtB,MAAK,UAAAa,OAAYO,EAAI,GACrBH,KAAM0G,EAAWvG,GACjBiH,MAAM,EACN3D,gBACE,IACA4D,KAAKC,SACFC,SAAS,IACTC,MAAM,EAAG,KAIlB/G,QAAQgG,MAAMU,GAEd,IAAMnH,EAAO,CACXyH,OAAQP,EACRQ,SAAUP,GAGRQ,EAAa,CACfC,YAAY,EACZC,qBAAqB,EACrBC,OAAQ,CACNC,MAAO,CACL,CACEC,SAAS,EACTC,MAAO,CACLC,aAAc,EAEdC,aAAa,KAInBC,MAAO,CACL,CACEJ,SAAS,EACTC,MAAO,CACLC,aAAc,EAEdC,aAAa,MAKrBE,OAAQ,CACNL,SAAS,EACTM,SAAU,OACVC,WAAW,GAEbC,SAAU,CACRC,UAAW,CACT1J,MAAO,SAAS2J,EAAa1I,GAC3B,IAAI2I,EAAU3I,EAAK0H,SAASgB,EAAYE,cACpCC,EAAQH,EAAYG,MACxB,SAAAjJ,OAAU+I,EAAQ5J,MAAlB,KAAAa,OAA2B+I,EAAQ3I,KAAK6I,GAAxC,KAAAjJ,OACEiH,EAAU6B,EAAYE,cAAcC,QAQ9C,OACExG,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,kBACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAACwG,EAAA,EAAD,CAAK9I,KAAMA,EAAM+I,QAASpB,OAIhCtF,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,kBACbR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,WACbR,EAAAnB,EAAAoB,cAACwG,EAAA,EAAD,CAAM9I,KAAMA,EAAM+I,QAASpB,YAlSzC/J,EAAA,CAA4BoL,aCJPC,6MACnB3K,YAAc2K,EAAI1K,6EAGhB,OACI8D,EAAAnB,EAAAoB,cAAAD,EAAAnB,EAAA+C,SAAA,KACE5B,EAAAnB,EAAAoB,cAAC4G,EAAD,cANuBF,aCM3BG,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DA6BN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACT7J,KAAK,SAAAiK,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBxL,QACfmL,UAAUC,cAAcO,WAK1B1J,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrB0J,MAAM,SAAAC,GACL5J,QAAQ4J,MAAM,4CAA6CA,KC7D9D,IAAMC,EAAcC,SAASC,eAAe,QAE/CC,IAASC,OACPrI,EAAAnB,EAAAoB,cAACqI,EAAA,EAAD,KACEtI,EAAAnB,EAAAoB,cAACsI,EAAD,OAEFN,GDKa,WACb,GAA6C,kBAAmBX,UAAW,CAGzE,GADkB,IAAIkB,IAAIC,WAAwBzB,OAAOC,UAC3CyB,SAAW1B,OAAOC,SAASyB,OAIvC,OAGF1B,OAAO2B,iBAAiB,OAAQ,WAC9B,IAAMtB,EAAK,GAAA9J,OAAMkL,WAAN,sBAEP3B,EAwCV,SAAiCO,GAE/B/J,MAAM+J,GACH7J,KAAK,SAAAC,GAGkB,MAApBA,EAASmL,SACuD,IAAhEnL,EAASoL,QAAQC,IAAI,gBAAgB/H,QAAQ,cAG7CuG,UAAUC,cAAcwB,MAAMvL,KAAK,SAAAiK,GACjCA,EAAauB,aAAaxL,KAAK,WAC7BwJ,OAAOC,SAASgC,aAKpB7B,EAAgBC,KAGnBU,MAAM,WACL3J,QAAQC,IACN,mEA5DA6K,CAAwB7B,GAGxBD,EAAgBC,MCtBxB8B","file":"static/js/main.8941d3be.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Bar, Line } from \"react-chartjs-2\";\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\nimport DeviceOrientation, { Orientation } from \"react-screen-orientation\";\r\n\r\nvar _ = require(\"lodash\");\r\nconst key = \"dbc3d84ebffed258626dd3fc30a02bc4\";\r\n\r\nexport class Module extends Component {\r\n  displayName = Module.name;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      episodes: [],\r\n      external: [],\r\n      search: [],\r\n      loading: true,\r\n      value: \"\",\r\n      test: [{ label: \"loading...\" }],\r\n      key: \"\",\r\n      backgroundPath: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.renderSearch = this.renderSearch.bind(this);\r\n    this.dothis = this.dothis.bind(this);\r\n  }\r\n\r\n  static renderText(external) {\r\n    if (external !== null || []) {\r\n      let bodyText = external.tv_results[0].overview;\r\n      let originCountry = external.tv_results[0].origin_country[0];\r\n      let originalLanguage = external.tv_results[0].original_language;\r\n      let voteAverage = external.tv_results[0].vote_average;\r\n      let firstAirDate = external.tv_results[0].first_air_date;\r\n      return (\r\n        <>\r\n          <p className=\"subtitle is-5\">\r\n            <b>Air Date: </b>\r\n            {firstAirDate}\r\n          </p>\r\n          <p className=\"subtitle is-5\">\r\n            <b>Origin: </b>\r\n            {originCountry}\r\n          </p>\r\n          <p className=\"subtitle is-5\">\r\n            <b>Language: </b>\r\n            {originalLanguage}\r\n          </p>\r\n          <p className=\"subtitle is-5\">\r\n            <b>Average Votes: </b>\r\n            {voteAverage}\r\n          </p>\r\n          <p className=\"subtitle is-5\">\r\n            <b>Synopse: </b>\r\n            {bodyText}\r\n          </p>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderSearch() {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/search/tv?api_key=dbc3d84ebffed258626dd3fc30a02bc4&language=en-US&query=${\r\n        this.state.value\r\n      }&page=1`\r\n    )\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        let arr = this.state.search;\r\n        let newArr = [];\r\n        for (var i in arr.results) {\r\n          newArr.push({ label: arr.results[i].name, id: arr.results[i].id });\r\n        }\r\n        this.setState({ test: _.flatten(newArr) });\r\n        this.setState({ search: data });\r\n        console.log(this.state.search, this.state.test);\r\n      });\r\n  }\r\n\r\n  static renderPageTitle(external) {\r\n    if (external !== null || []) {\r\n      let pageTitle = external.tv_results[0].original_name;\r\n\r\n      return (\r\n        <>\r\n          <h1 className=\"subtitle is-4\">{pageTitle}</h1>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  static renderPoster(external) {\r\n    let posterPath = external.tv_results[0].poster_path;\r\n\r\n    let backdropPath = external.tv_results[0].backdrop_path;\r\n    console.log(posterPath);\r\n\r\n    return (\r\n      <>\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w300${posterPath}`}\r\n          alt=\"...\"\r\n          style={{ border: \"5px solid #4a4a4a\" }}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ value: event.target.value, loading: true });\r\n  }\r\n\r\n  dothis(event) {\r\n    this.setState({ value: event.target.value, loading: true });\r\n    this.renderSearch();\r\n    console.log(this.state.key);\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const request = async () => {\r\n      const response = await fetch(\r\n        `https://api.themoviedb.org/3/search/tv?api_key=dbc3d84ebffed258626dd3fc30a02bc4&language=en-US&query=${\r\n          this.state.value\r\n        }&page=1`\r\n      );\r\n      const json = await response.json();\r\n      console.log(json.results[0].id);\r\n      const tvID = json.results[0].id;\r\n      if (tvID) {\r\n        const response = await fetch(\r\n          `https://api.themoviedb.org/3/tv/${tvID}/external_ids?api_key=dbc3d84ebffed258626dd3fc30a02bc4&language=en-US`\r\n        );\r\n        const json = await response.json();\r\n        console.log(json.imdb_id);\r\n        const imdbID = json.imdb_id;\r\n        console.log(imdbID);\r\n        fetch(\r\n          `https://eppy-aa7fb.firebaseio.com/episode/episodeList.json?orderBy=%22parentTconst%22&equalTo=%22${imdbID}%22`\r\n        )\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            this.setState({ episodes: data, loading: false });\r\n            console.log(data);\r\n          })\r\n          .then(\r\n            fetch(\r\n              `https://api.themoviedb.org/3/find/${imdbID}?api_key=${key}&language=en-US&external_source=imdb_id`\r\n            )\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                this.setState({ external: data });\r\n                console.log(data);\r\n              })\r\n          );\r\n      }\r\n    };\r\n\r\n    request();\r\n  }\r\n\r\n  static testClass(episodes) {\r\n    let arr = [];\r\n\r\n    for (var key in episodes) {\r\n      if (episodes.hasOwnProperty(key)) {\r\n        arr.push(episodes[key]);\r\n      }\r\n    }\r\n    for (var i in arr) {\r\n      arr[i].seasonNumber = parseInt(arr[i].seasonNumber);\r\n      arr[i].episodeNumber = parseInt(arr[i].episodeNumber);\r\n      arr[i].averageRating = parseFloat(arr[i].averageRating);\r\n      console.log(arr[i]);\r\n    }\r\n    console.log(_.sortBy(arr, [\"seasonNumber\", \"episodeNumber\"]));\r\n\r\n    let graphGroups = _.groupBy(\r\n      _.sortBy(arr, [\"seasonNumber\", \"episodeNumber\"]),\r\n      \"seasonNumber\"\r\n    );\r\n\r\n    //reformat response object to array\r\n    var result = Object.keys(graphGroups).map(function(key) {\r\n      return [graphGroups[key]];\r\n    });\r\n\r\n    //reformat array -- this is the entire response\r\n    var flatten = _.flatten(result);\r\n    console.table(flatten);\r\n    console.log(\"flatten\");\r\n    //map response to new array only including the average rating\r\n    let flattenArr = flatten.map(function(sub) {\r\n      return sub.map(ep => ep.averageRating);\r\n    });\r\n\r\n    let flattenEp = flatten.map(function(sub) {\r\n      return sub.map(ep => ep.primaryTitle);\r\n    });\r\n    console.table(flattenEp);\r\n    console.log(\"flattenEp\");\r\n    //find largest amount of episodes\r\n    let largest = 0;\r\n\r\n    for (var i = 0; i < flatten.length; i++) {\r\n      if (_.size(flatten[i]) > largest) {\r\n        largest = _.size(flatten[i]);\r\n      }\r\n    }\r\n\r\n    //create the labels for the graph\r\n    var dynLabels = [];\r\n    for (var i = 1; i <= largest; i++) {\r\n      dynLabels.push(`Episode ${i}`);\r\n    }\r\n\r\n    //create the datasets for the graph\r\n    var dataSetsTest = [];\r\n    for (var i = 0; i < flattenArr.length; i++) {\r\n      dataSetsTest.push({\r\n        label: `Season ${i + 1}`,\r\n        data: flattenArr[i],\r\n        fill: false,\r\n        backgroundColor:\r\n          \"#\" +\r\n          Math.random()\r\n            .toString(16)\r\n            .slice(2, 8)\r\n      });\r\n    }\r\n\r\n    console.table(dataSetsTest);\r\n    //data object for the graph labels/datasets\r\n    const data = {\r\n      labels: dynLabels,\r\n      datasets: dataSetsTest\r\n    };\r\n\r\n    let optionsBar = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              suggestedMin: 0, // minimum will be 0, unless there is a lower value.\r\n              // OR //\r\n              beginAtZero: true // minimum value will be 0.\r\n            }\r\n          }\r\n        ],\r\n        yAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              suggestedMin: 0, // minimum will be 0, unless there is a lower value.\r\n              // OR //\r\n              beginAtZero: true // minimum value will be 0.\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      legend: {\r\n        display: false,\r\n        position: \"left\",\r\n        fullWidth: true\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function(tooltipItem, data) {\r\n            var dataset = data.datasets[tooltipItem.datasetIndex];\r\n            var index = tooltipItem.index;\r\n            return `${dataset.label} ${dataset.data[index]} ${\r\n              flattenEp[tooltipItem.datasetIndex][index]\r\n            }`;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    //render the graph\r\n    return (\r\n      <>\r\n        <div className=\"columns\">\r\n          <div className=\"column is-full\">\r\n            <div className=\"wrapper\">\r\n              <Bar data={data} options={optionsBar} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"columns\">\r\n          <div className=\"column is-full\">\r\n            <div className=\"wrapper\">\r\n              <Line data={data} options={optionsBar} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let contents = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n      Module.testClass(this.state.episodes)\r\n    );\r\n\r\n    let poster = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n      Module.renderPoster(this.state.external)\r\n    );\r\n\r\n    let text = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n      Module.renderText(this.state.external)\r\n    );\r\n\r\n    let title = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n      Module.renderPageTitle(this.state.external)\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h1 className=\"title has-text-grey-dark\">eppy.io</h1>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"columns\">\r\n              <div className=\"column is-one-third\">\r\n                <ReactAutocomplete\r\n                  items={this.state.test}\r\n                  shouldItemRender={(item, value) =>\r\n                    item.label.toLowerCase().indexOf(value.toLowerCase()) > -1\r\n                  }\r\n                  getItemValue={item => item.label}\r\n                  renderItem={(item, highlighted) => (\r\n                    <div\r\n                      key={item.id}\r\n                      style={{\r\n                        backgroundColor: highlighted ? \"#eee\" : \"transparent\"\r\n                      }}\r\n                    >\r\n                      {item.label}\r\n                    </div>\r\n                  )}\r\n                  inputProps={{\r\n                    class: \"form-control\",\r\n                    placeholder: \"Try me out\"\r\n                  }}\r\n                  value={this.state.value}\r\n                  onChange={this.dothis}\r\n                  onSelect={value => this.setState({ value })}\r\n                  wrapperStyle={{}}\r\n                />\r\n              </div>\r\n              <div className=\"column\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"button is-outlined is-primary\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {this.state.loading ? (\r\n            <div className=\"columns\">\r\n              <div className=\"column\">\r\n                <h2 className=\"subtitle\">\r\n                  Enter a TV show and click Submit to see the ratings.\r\n                </h2>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"columns\">\r\n                <div className=\"column is-narrow\">{poster}</div>\r\n                <div className=\"column is-6\">{text}</div>\r\n              </div>\r\n              <h2 className=\"subtitle\">\r\n                <b>Series Trends</b>\r\n              </h2>\r\n              <DeviceOrientation lockOrientation={\"landscape\"}>\r\n                {/* Will only be in DOM in landscape */}\r\n                <Orientation orientation=\"landscape\" alwaysRender={false}>\r\n                  <div\r\n                    className=\"box\"\r\n                    style={{ marginBottom: \"30px\", marginTop: \"30px\" }}\r\n                  >\r\n                    {contents}\r\n                  </div>\r\n                </Orientation>\r\n                {/* Will stay in DOM, but is only visible in portrait */}\r\n                <Orientation orientation=\"portrait\" alwaysRender={false}>\r\n                  <h2 className=\"subtitle\">\r\n                    If viewing on mobile please rotate your device.{\" \"}\r\n                    <span role=\"img\">😃</span>\r\n                  </h2>\r\n                </Orientation>\r\n              </DeviceOrientation>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router';\r\nimport { Module } from './components/Episode'\r\n\r\nexport default class App extends Component {\r\n  displayName = App.name\r\n\r\n  render() {\r\n    return (\r\n        <>\r\n          <Module/>\r\n        </>\r\n    );\r\n  }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\n/* const baseUrl = document.getElementsByTagName('base')[0].getAttribute('href');\r\n */const rootElement = document.getElementById('root');\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  rootElement);\r\n\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}