{"version":3,"sources":["components/env.js","components/Episode.js","App.js","registerServiceWorker.js","index.js"],"names":["TMDB_KEY","_","require","Module","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","displayName","name","state","episodes","external","search","loading","value","test","label","key","backgroundPath","imdbID","imdbNotFound","handleChange","bind","assertThisInitialized","handleSubmit","renderSearch","dothis","inherits","createClass","_this2","fetch","concat","then","response","json","data","arr","newArr","i","results","push","id","setState","flatten","event","target","_this3","preventDefault","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","tvID","_response","_json","wrap","_context","prev","next","sent","imdb_id","stop","apply","arguments","request","_this4","contents","react_default","createElement","testClass","poster","renderPoster","text","renderText","renderPageTitle","className","onSubmit","Autocomplete_default","items","shouldItemRender","item","toLowerCase","indexOf","getItemValue","renderItem","highlighted","style","backgroundColor","inputProps","class","placeholder","onChange","onSelect","wrapperStyle","type","Fragment","href","lib_default","lockOrientation","lib","orientation","alwaysRender","marginBottom","marginTop","role","tv_results","bodyText","overview","originCountry","origin_country","originalLanguage","original_language","voteAverage","vote_average","firstAirDate","first_air_date","pageTitle","original_name","posterPath","poster_path","src","alt","border","hasOwnProperty","seasonNumber","parseInt","episodeNumber","averageRating","parseFloat","graphGroups","groupBy","sortBy","result","keys","map","flattenArr","sub","ep","flattenEp","primaryTitle","largest","length","size","dynLabels","dataSetsTest","fill","Math","random","toString","slice","labels","datasets","optionsBar","responsive","maintainAspectRatio","scales","xAxes","display","ticks","suggestedMin","beginAtZero","yAxes","legend","position","fullWidth","tooltips","callbacks","tooltipItem","dataset","datasetIndex","index","es","options","Component","App","Episode_Module","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","rootElement","document","getElementById","ReactDOM","render","BrowserRouter","App_App","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.1f421cb7.chunk.js","sourcesContent":["const TMDB_KEY=\"dbc3d84ebffed258626dd3fc30a02bc4\"\r\n\r\nexport {TMDB_KEY}","import React, { Component } from \"react\";\r\nimport { Bar, Line } from \"react-chartjs-2\";\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\nimport DeviceOrientation, { Orientation } from \"react-screen-orientation\";\r\nimport {TMDB_KEY} from './env'\r\nvar _ = require(\"lodash\");\r\n\r\nexport class Module extends Component {\r\n  displayName = Module.name;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      episodes: [],\r\n      external: [],\r\n      search: [],\r\n      loading: true,\r\n      value: \"\",\r\n      test: [{ label: \"loading...\" }],\r\n      key: \"\",\r\n      backgroundPath: \"\",\r\n      imdbID: \"\",\r\n      imdbNotFound: true\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.renderSearch = this.renderSearch.bind(this);\r\n    this.dothis = this.dothis.bind(this);\r\n  }\r\n\r\n  static renderText(external) {\r\n    if (external !== null || []) {\r\n      if (external.tv_results[0]) {\r\n        let bodyText = external.tv_results[0].overview;\r\n        let originCountry = external.tv_results[0].origin_country[0];\r\n        let originalLanguage = external.tv_results[0].original_language;\r\n        let voteAverage = external.tv_results[0].vote_average;\r\n        let firstAirDate = external.tv_results[0].first_air_date;\r\n        //let imdbId = this.state.imdbID\r\n        return (\r\n          <>\r\n            <p className=\"subtitle is-5\">\r\n              <b>Air Date: </b>\r\n              {firstAirDate}\r\n            </p>\r\n            <p className=\"subtitle is-5\">\r\n              <b>Origin: </b>\r\n              {originCountry}\r\n            </p>\r\n            <p className=\"subtitle is-5\">\r\n              <b>Language: </b>\r\n              {originalLanguage}\r\n            </p>\r\n            <p className=\"subtitle is-5\">\r\n              <b>Average Votes: </b>\r\n              {voteAverage}\r\n            </p>\r\n            <p className=\"subtitle is-5\">\r\n              <b>Synopse: </b>\r\n              {bodyText}\r\n            </p>\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  renderSearch() {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/search/tv?api_key=${TMDB_KEY}&language=en-US&query=${\r\n      this.state.value\r\n      }&page=1`\r\n    )\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        let arr = this.state.search;\r\n        let newArr = [];\r\n        for (var i in arr.results) {\r\n          newArr.push({ label: arr.results[i].name, id: arr.results[i].id });\r\n        }\r\n        this.setState({ test: _.flatten(newArr) });\r\n        this.setState({ search: data });\r\n      });\r\n  }\r\n\r\n  static renderPageTitle(external) {\r\n    if (external !== null || []) {\r\n      if (external.tv_results[0]) {\r\n        let pageTitle = external.tv_results[0].original_name;\r\n\r\n        return (\r\n          <>\r\n            <h1 className=\"subtitle is-4\">{pageTitle}</h1>\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  static renderPoster(external) {\r\n    if (external !== null || []) {\r\n      if (external.tv_results[0]) {\r\n        let posterPath = external.tv_results[0].poster_path;\r\n        return (\r\n          <>\r\n            <img\r\n              src={`https://image.tmdb.org/t/p/w300${posterPath}`}\r\n              alt=\"...\"\r\n              style={{ border: \"5px solid #4a4a4a\" }}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n      else {\r\n        return (\r\n          <>\r\n            <h2 className=\"subtitle\">No Poster :(</h2>\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ value: event.target.value, loading: true, imdbNotFound: true });\r\n  }\r\n\r\n  dothis(event) {\r\n    this.setState({ value: event.target.value, loading: true, imdbNotFound: true });\r\n    this.renderSearch();\r\n }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const request = async () => {\r\n      const response = await fetch(\r\n        `https://api.themoviedb.org/3/search/tv?api_key=${TMDB_KEY}&language=en-US&query=${\r\n        this.state.value\r\n        }&page=1`\r\n      );\r\n      const json = await response.json();\r\n      const tvID = json.results[0].id;\r\n      if (tvID) {\r\n        const response = await fetch(\r\n          `https://api.themoviedb.org/3/tv/${tvID}/external_ids?api_key=${TMDB_KEY}&language=en-US`\r\n        );\r\n        const json = await response.json();\r\n        const imdbID = json.imdb_id;\r\n        this.setState({\r\n          imdbID: json.imdb_id,\r\n          imdbNotFound: false\r\n        })\r\n        fetch(\r\n          `https://eppy-aa7fb.firebaseio.com/episode/episodeList.json?orderBy=%22parentTconst%22&equalTo=%22${imdbID}%22`\r\n        )\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            this.setState({ episodes: data, loading: false, imdbNotFound: false });\r\n          })\r\n          .then(\r\n            fetch(\r\n              `https://api.themoviedb.org/3/find/${imdbID}?api_key=${TMDB_KEY}&language=en-US&external_source=imdb_id`\r\n            )\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                this.setState({ external: data });\r\n              })\r\n          );\r\n      }\r\n    };\r\n\r\n    request();\r\n  }\r\n\r\n  static testClass(episodes) {\r\n    let arr = [];\r\n\r\n    for (var key in episodes) {\r\n      if (episodes.hasOwnProperty(key)) {\r\n        arr.push(episodes[key]);\r\n      }\r\n    }\r\n    for (var i in arr) {\r\n      arr[i].seasonNumber = parseInt(arr[i].seasonNumber);\r\n      arr[i].episodeNumber = parseInt(arr[i].episodeNumber);\r\n      arr[i].averageRating = parseFloat(arr[i].averageRating);\r\n    }\r\n\r\n    let graphGroups = _.groupBy(\r\n      _.sortBy(arr, [\"seasonNumber\", \"episodeNumber\"]),\r\n      \"seasonNumber\"\r\n    );\r\n\r\n    //reformat response object to array\r\n    var result = Object.keys(graphGroups).map(function (key) {\r\n      return [graphGroups[key]];\r\n    });\r\n\r\n    //reformat array -- this is the entire response\r\n    var flatten = _.flatten(result);\r\n    //map response to new array only including the average rating\r\n    let flattenArr = flatten.map(function (sub) {\r\n      return sub.map(ep => ep.averageRating);\r\n    });\r\n\r\n    let flattenEp = flatten.map(function (sub) {\r\n      return sub.map(ep => ep.primaryTitle);\r\n    });\r\n    //find largest amount of episodes\r\n    let largest = 0;\r\n\r\n    for (var i = 0; i < flatten.length; i++) {\r\n      if (_.size(flatten[i]) > largest) {\r\n        largest = _.size(flatten[i]);\r\n      }\r\n    }\r\n\r\n    //create the labels for the graph\r\n    var dynLabels = [];\r\n    for (var i = 1; i <= largest; i++) {\r\n      dynLabels.push(`Episode ${i}`);\r\n    }\r\n\r\n    //create the datasets for the graph\r\n    var dataSetsTest = [];\r\n    for (var i = 0; i < flattenArr.length; i++) {\r\n      dataSetsTest.push({\r\n        label: `Season ${i + 1}`,\r\n        data: flattenArr[i],\r\n        fill: false,\r\n        backgroundColor:\r\n          \"#\" +\r\n          Math.random()\r\n            .toString(16)\r\n            .slice(2, 8)\r\n      });\r\n    }\r\n\r\n    //data object for the graph labels/datasets\r\n    const data = {\r\n      labels: dynLabels,\r\n      datasets: dataSetsTest\r\n    };\r\n\r\n    let optionsBar = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              suggestedMin: 0, // minimum will be 0, unless there is a lower value.\r\n              // OR //\r\n              beginAtZero: true // minimum value will be 0.\r\n            }\r\n          }\r\n        ],\r\n        yAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              suggestedMin: 0, // minimum will be 0, unless there is a lower value.\r\n              // OR //\r\n              beginAtZero: true // minimum value will be 0.\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      legend: {\r\n        display: false,\r\n        position: \"left\",\r\n        fullWidth: true\r\n      },\r\n      tooltips: {\r\n        callbacks: {\r\n          label: function (tooltipItem, data) {\r\n            var dataset = data.datasets[tooltipItem.datasetIndex];\r\n            var index = tooltipItem.index;\r\n            return `${dataset.label} ${dataset.data[index]} ${\r\n              flattenEp[tooltipItem.datasetIndex][index]\r\n              }`;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    //render the graph\r\n    return (\r\n      <>\r\n        <div className=\"columns\">\r\n          <div className=\"column is-full\">\r\n            <div className=\"wrapper\">\r\n              <Bar data={data} options={optionsBar} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"columns\">\r\n          <div className=\"column is-full\">\r\n            <div className=\"wrapper\">\r\n              <Line data={data} options={optionsBar} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    \r\n    let contents = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n        Module.testClass(this.state.episodes)\r\n      );\r\n\r\n    let poster = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n        Module.renderPoster(this.state.external)\r\n      );\r\n\r\n    let text = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n        Module.renderText(this.state.external)\r\n      );\r\n\r\n    let title = this.state.loading ? (\r\n      <p>\r\n        <em />\r\n      </p>\r\n    ) : (\r\n        Module.renderPageTitle(this.state.external)\r\n      );\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h1 className=\"title has-text-grey-dark\">eppy.io</h1>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"columns\">\r\n              <div className=\"column is-one-third\">\r\n                <ReactAutocomplete\r\n                  items={this.state.test}\r\n                  shouldItemRender={(item, value) =>\r\n                    item.label.toLowerCase().indexOf(value.toLowerCase()) > -1\r\n                  }\r\n                  getItemValue={item => item.label}\r\n                  renderItem={(item, highlighted) => (\r\n                    <div\r\n                      key={item.id}\r\n                      style={{\r\n                        backgroundColor: highlighted ? \"#eee\" : \"transparent\"\r\n                      }}\r\n                    >\r\n                      {item.label}\r\n                    </div>\r\n                  )}\r\n                  inputProps={{\r\n                    class: \"form-control\",\r\n                    placeholder: \"Try me out\"\r\n                  }}\r\n                  value={this.state.value}\r\n                  onChange={this.dothis}\r\n                  onSelect={value => this.setState({ value })}\r\n                  wrapperStyle={{}}\r\n                />\r\n              </div>\r\n              <div className=\"column\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Submit\"\r\n                  className=\"button is-outlined is-primary\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {this.state.loading ? (\r\n            <div className=\"columns\">\r\n              <div className=\"column\">\r\n                <h2 className=\"subtitle\">\r\n                  Enter a TV show and click Submit to see the ratings.\r\n                </h2>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n              <>\r\n                <div className=\"columns\">\r\n                  <div className=\"column is-narrow\">{poster}</div>\r\n                  <div className=\"column is-6\">{text}</div>\r\n                  <div className=\"column\">\r\n                    <a href={`https://www.imdb.com/title/${this.state.imdbID}`} className=\"subtitle\">Link to IMDb</a>\r\n                  </div>\r\n                </div>\r\n                <h2 className=\"subtitle\">\r\n                  <b>Series Trends</b>\r\n                </h2>\r\n                <DeviceOrientation lockOrientation={\"landscape\"}>\r\n                  {/* Will only be in DOM in landscape */}\r\n                  <Orientation orientation=\"landscape\" alwaysRender={false}>\r\n                    <div\r\n                      className=\"box\"\r\n                      style={{ marginBottom: \"30px\", marginTop: \"30px\" }}\r\n                    >\r\n                      {contents}\r\n                    </div>\r\n                  </Orientation>\r\n                  {/* Will stay in DOM, but is only visible in portrait */}\r\n                  <Orientation orientation=\"portrait\" alwaysRender={false}>\r\n                    <h2 className=\"subtitle\">\r\n                      If viewing on mobile please rotate your device.{\" \"}\r\n                      <span role=\"img\">ðŸ˜ƒ</span>\r\n                    </h2>\r\n                  </Orientation>\r\n                </DeviceOrientation>\r\n              </>\r\n            )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router';\r\nimport { Module } from './components/Episode'\r\n\r\nexport default class App extends Component {\r\n  displayName = App.name\r\n\r\n  render() {\r\n    return (\r\n        <>\r\n          <Module/>\r\n        </>\r\n    );\r\n  }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\n/* const baseUrl = document.getElementsByTagName('base')[0].getAttribute('href');\r\n */const rootElement = document.getElementById('root');\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  rootElement);\r\n\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}